---
title: 市集上的上市權益 | Azure
description: Azure Marketplace 和 AppSource 的 GTM 權益是針對應用程式和服務發行者
services: Azure, Marketplace, Compute, Storage, Networking, Blockchain, Security
documentationcenter: ''
author: ellacroi
manager: nunoc
editor: ''
ms.assetid: ''
ms.service: marketplace
ms.workload: ''
ms.tgt_pltfrm: ''
ms.devlang: ''
ms.topic: article
ms.date: 07/05/2018
ms.author: ellacroi
ms.openlocfilehash: edafc2e0c11f4395540081e4b09614f2beb70696
ms.sourcegitcommit: 7827d434ae8e904af9b573fb7c4f4799137f9d9b
ms.translationtype: HT
ms.contentlocale: zh-TW
ms.lasthandoff: 07/18/2018
ms.locfileid: "39115920"
---
# <a name="grow-your-business-on-marketplace"></a>在 Marketplace 上拓展業務 
您在 AppSource 或 Azure Marketplace 上發行供應項目之後，可以使用您的清單作為 Microsoft 聯合 Go-To-Market (GTM) 活動跳板。 推動您的市集供應項目流量並與市集潛在客戶加強關係，都是加速業務成長的絕佳範例方式。 我們會在本文中分享在市集上拓展業務的許多行銷最佳做法。

## <a name="app-listing-best-practices"></a>應用程式清單最佳做法

下表提供吸引人的市集供應項目建立建議。 您將會使用 [Cloud Partner 入口網站](https://cloudpartner.azure.com/#insights)來撰寫和設定這些行銷資料。 


### <a name="offer-identity"></a>供應項目身分識別

### <a name="storefront-details--offer-details"></a>店面詳細資料 > 供應項目詳細資料
| 店面設定 | 最佳做法 |
|:--- |:--- |  
| 供應項目名稱 | 提供有力標題：<br />您的應用程式名稱應該傳達客戶收到的核心價值。 在您的應用程式標題中包含搜尋關鍵字，也可協助您的應用程式在搜尋引擎結果中獲得更高的順位。<br /> <br />諮詢服務清單應遵循固定的標題格式：[供應項目名稱]：[持續時間] [供應項目類型]，例如 Contoso：2 週實作<br /> <br />遵守品牌指導方針：<br />請參考 Microsoft 商標與 Microsoft 軟體、產品和服務的名稱時，請遵循 Microsoft 商標和品牌指導方針以及相關的特定產品指導方針。<br />如需 Microsoft 商標與品牌的詳細資訊，請瀏覽 [Microsoft 商標和品牌指導方針頁面](https://www.microsoft.com/legal/intellectualproperty/trademarks/usage/general.aspx)。 |
| 供應項目描述 | 提供良好的供應項目描述<br />在您的描述中的前幾個句子清楚描述您供應項目的價值主張。 請記住，前幾個句子可能會顯示在搜尋引擎結果中。 請勿依賴特色與功能來銷售您的產品。 反之，要鎖定在您所提供的價值。 請盡可能使用業界特定詞彙或凸顯優點的字眼。<br />您的價值主張核心部分應該包含下列資訊：<br /> - 產品的描述<br /> - 獲益的使用者類型<br /> - 所能解決的客戶需求或難題 |

### <a name="storefront-details--listing-details"></a>店面詳細資料 > 清單詳細資料
| 店面設定 | 最佳做法 |
|:--- |:--- |  
| 產業：僅 AppSource 應用程式與諮詢服務 | 如果您的供應項目可解決特定產業需求，請選取產業。 務必在您的供應項目描述中凸顯這些特定產業需求。<br /> <br />附註：選項數目上限會隨供應項目類型而有所不同，並會在 Cloud Partner 入口網站中指出。 |
| 類別 | 選取最符合您供應項目的類別。 請謹慎選擇這些類別，因為客戶會以類別搜尋相關應用程式。 務必在供應項目描述中凸顯您的供應項目如何支援特定類別需求。<br /> <br /> 附註：選項數目上限會隨供應項目類型而有所不同，並會在 Cloud Partner 入口網站中指出。 |
| 與您的應用程式一起運作的產品 (最多 3 個)：僅 AppSource 應用程式 | 列出您的解決方案使用或擴充的其他產品與技術，例如 Azure IOT 中樞、Azure Machine Learning 等。 |
| 搜尋關鍵字 (最多 3 個) | 搜尋關鍵字可協助商務使用者在 Azure Marketplace 與 AppSource 上或使用搜尋引擎搜尋時找到您的供應項目。 找出您供應項目的前三個搜尋關鍵字，將這些關鍵字納入供應項目摘要與描述中，並列在此處。 |

### <a name="storefront-details--marketing-artifacts"></a>店面詳細資料 > 行銷構件
| 店面設定 | 最佳做法 |
|:--- |:--- |  
| 供應項目標誌 (.png 格式，48x48) | 您的標誌應該針對數位媒體加以設計及最佳化。 上傳供應項目搜尋頁面的 PNG 格式標誌。 |
| 供應項目標誌 (.png。 216 x 216) | 您的標誌應該針對數位媒體加以設計及最佳化。 上傳供應項目應用程式詳細資料清單頁面的 PNG 格式標誌。 |
| 深入了解/文件 | 在「深入了解」之下包含支援銷售和行銷資產，例如白皮書、摺頁冊、檢查清單、PowerPoint 簡報等。所有檔案都應該為 PDF 格式。 您提供這些文件的目標應是為了教育客戶，而不是為了銷售。<br /> <br />將您應用程式登陸頁面的連結新增到您的所有文件，並加入 URL 參數以協助您追蹤訪客和試用版。 |
| 影片：僅 AppSource、諮詢服務以及 SaaS 供應項目 | 最有力的影片可以敘事方式傳遞供應項目價值。 確認影片故事的英雄是客戶，而非您的公司。 您的影片應該說明目標客戶的主要挑戰與目標。<br /> <br />建議長度：60-90 秒。<br /> <br />在影片名稱中包含搜尋關鍵字。<br /> <br />請考慮新增其他影片，例如操作說明、使用者入門影片或是客戶推薦影片。 |
| 螢幕擷取畫面 (1280x720) | 最多可新增五個螢幕擷取畫面，請在名稱中包含搜尋關鍵字。 |

## <a name="marketing-best-practices"></a>行銷最佳做法 

為了協助您在市集上充分利用清單的權益，我們收集下列在 AppSource 和 Azure Marketplace 上行銷供應項目的最佳做法。 首先，務必要檢閱行銷最佳做法與 Microsoft 合作夥伴網路 (MPN) 上的資源。 您可以透過此一途徑，取得與 Microsoft 合作相關的所有行銷與程式設計資源。<br /> <br />此外，您市集供應項目的品質和以客戶為中心創造需求的承諾，有助於推動貴公司的成長。 參與這些活動可協助 Microsoft 擴展您的上市產品，以及跨 Marketplace 店面提供重要的解決方案。<br /> <br />在您建立絕佳的清單之後，下列行銷計劃將協助您拓展業務：

*   建立強大的價值主張。<br />識別您的潛在客戶以及解決方案的重要差異指標。

*   在您的網站上建立獨特的登陸頁面，以讓您的應用程式清單脫穎而出。<br />從該處促進您的供應項目流量，並獲得絕佳的第一印象。 客戶會根據您的供應項目清單，決定是否要進一步了解並試用您的解決方案。

*   啟用試用產品或其他試用版體驗。<br />使用者希望親身體驗您的應用程式。 發行者由過去經驗得知，在清單中提供試用產品或試用版，潛在客戶成交率會更高。

*   將您的清單最佳化，以協助提升搜尋引擎順位。<br />在您的應用程式名稱、摘要和清單中納入搜尋關鍵字，並將它們包含在三個搜尋關鍵字中。 

*   啟用潛在客戶共用。<br />當客戶試用您的應用程式，您即可直接從 CRM 系統中收到客戶的連絡資訊。 請確定您已準備好追蹤這些潛在客戶的流程。

*   建立您的需求產生計劃。<br />使用您的市集供應項目作為行銷呼籲的登陸頁面。 一旦在您的供應項目市集清單上列出，如果您已啟用潛在客戶共用，每次客戶免費試用、試用產品，或部署供應項目時，您都會收到其名稱和連絡資訊。

*   在 AppSource 和/或 Azure Marketplace 上推廣您的應用程式。<br />每次要連結至您的應用程式時，都連結至應用程式清單並使用 URL 標記。

*   建立行銷和推廣活動。<br />透過可將流量導向您市集清單的清楚呼籲，來規劃和建立活動提升知悉度和業務開發度。

*   取得客戶意見反應。<br />請提醒客戶提交評分和評論。 使用者開始試用之後，會收到一封分享客戶體驗的電子郵件。

*   獲得可執行的深入見解。<br />檢視 [Cloud Partner 入口網站](https://cloudpartner.azure.com/#insights)中的深入解析儀表板。 追蹤您的應用程式清單獲得多少訪客，以及多少人試用您的應用程式。 深入了解您的行銷活動表現和哪些內容執行得最好。

*   使用上市服務權益。<br />充分利用上市服務的優點。 [深入了解](https://partner.microsoft.com/reach-customers/gtm)可透過 Microsoft 合作夥伴網路 (MPN) 取得的權益。

## <a name="build-an-effective-marketing-campaign"></a>打造有效的行銷活動

行銷活動是一系列推廣活動或行銷策略，意在促使目標對象採取動作或達到想要結果。 在您設計自己的活動之前，請考慮下列最佳做法：

### <a name="know-your-audience"></a>了解目標對象
首先，判斷實際購買者與購買影響者。 他們可能是組織內的不同人員，而且每個群組適用的策略和呼籲可能會不同。 詢問以下評估問題可協助您深入了解目標對象：

*   買方對採購決策的掌控度多寡？
*   影響者可發揮的影響程度高低？
*   影響者可發揮影響的層面為何？
*   是否會影響預算或挑選的解決方案？

了解這些問題的答案可幫助您決定投資的銷售項目與行銷資源。

### <a name="define-where-your-audience-learns"></a>定義目標對象的學習位置
最近當一般客戶造訪市集之際，多半已完成其大部分旅程。 買方會在決策過程中不斷學習有關解決方案的資訊並事先評估各種選項。 您設計的活動最好以買方和影響者的學習來源為目標，讓他們在考慮購買解決方案之前，能確實了解。<br /> <br />每個 (垂直) 產業或類別都有不同的目標對象。 目標對象是透過電子郵件線上學習、參加商展、透過社交媒體或和信賴的顧問對話來學習嗎？ 您應根據目標對象的學習來源和學習方式來設計活動，並據以分配行銷預算。 結合這些策略即成為您的活動策略。

### <a name="create-clear-campaign-goals"></a>建立明確的活動目標
您應定義 Marketplace 活動的成功基準並建立明確的關鍵效能指標 (KPI)。 無庸置疑，您可以執行最終目標各異的多個活動。 終極的最終目標通常就是提升營收或獲得客戶；不過，您的行銷活動可能會和購買週期的其他階段目標相關。 以下是一些範例： 

*   您最近在 Marketplace 推出產品。 在此情況下，您可能會發現最好將行銷資源花費在教育目標對象和開發潛在客戶。 成功與否取決於從市集清單開發而來的潛在客戶數量多寡。 在此情況下，您的行銷策略 (和登陸頁面) 會著重於吸引客戶前往您的市集清單。
*   您已在市集設定試用版，而且在購買您的產品之前，需經過一定程度的業務開發和體驗。 請考慮將試用版的下載次數作為活動目標。 在此情況下，活動策略的呼籲會相當著重於建議使用市集中的試用版。
*   您的產品或類別廣為人知，並已在市集中設定購買功能。 請略過免費試用呼籲，並將目標對象直接導向至市集中的「立即取得」連結。
*   您的供應項目已建立且臻致完善。 請考慮將活動心力放在向客戶群追加銷售，並鼓勵增加購買市集中的項目。 您的訊息會著重在鼓勵客戶透過市集購買。 KPI 會以透過市集產生的營收為主。

無論您的供應項目成熟度和組織目標為何，以下都是充分發揮您行銷活動效果的關鍵：
*   保持將重點放在其目標上
*   詳細規劃一組符合此目標的整合式行銷策略

當您成為市集的新發行者，Microsoft 會提供一些免費的市集上市權益。 您應該認真考慮如何在活動策略中善用這些優點。 請讓行銷小組知曉您的市集活動目標與想要的目標對象動作。 Microsoft 會自訂這些交付項目來參與您的計劃。

請務必參與 [Smart Partner Marketing 方案](https://partner.microsoft.com/smart-partner-marketing)，以取得活動建立和行銷做法的其他內容，此為加入 Microsoft 合作夥伴網路的權益

### <a name="invest-in-merchandising"></a>投入商品化
發行程序進行時，您應考慮要建立何種類型的供應項目，並且在 AppSource 或 Azure Marketplace 中選擇供應項目的類別。 請務必為您的解決方案選取正確的類別，如此才會準確地向潛在客戶顯示您的方案。<br /> <br />市集精選供應項目都是從可提供最佳客戶體驗的供應項目當中選擇，並聯合優質合作夥伴行銷業務開發。 下列準則可增加您的解決方案獲選成為市集精選供應項目的可能性：
*   清單清楚明瞭
*   解決方案的品質
*   技術可靠性
*   您的客戶為平台帶來的使用量成長
*   您對於建立高品質行銷資料的參與程度

為了讓獲選為精選供應項目的機會達到最大，您應該投資在成功的市集供應項目。 請考慮下列方法，以確保供應項目會有絕佳的客戶體驗：
*   務必正確地上傳和顯示行銷構件。
*   建立高品質的活動創造需求，促使高品質的流量來到您在市集的供應項目。
*   推動需求、提供優質客戶服務並及時更新供應項目，提高 AppSource 或 Azure Marketplace 供應項目的取用量。

如需關於精選供應項目符合上市權益內容的詳細資訊，請瀏覽市集網頁刊載的 [GTM 權益](https://review.docs.microsoft.com/azure/marketplace/gtm-benefits)。

#### <a name="merchandising-badge"></a>商品化徽章
您的供應項目列在 AppSource 或 Azure Marketplace 上後，您便獲得在網站上顯示「可在 AppSource 上取得」或「可在 Azure Marketplace 上取得」徽章的權益。<br /> <br />AppSource 徽章有三種大小。 您可以從「[在 Microsoft AppSource 上宣傳您應用程式的可用性](https://appsource.microsoft.com/blogs/promote-your-app-s-availability-on-microsoft-appsource)」下載徽章及使用方式指導方針。<br /> <br />提供的 Azure Marketplace 徽章是免費的[上市權益](https://review.docs.microsoft.com/azure/marketplace/gtm-benefits?branch=master)。

### <a name="linking-to-your-app-listing-page-on-marketplace-from-your-website"></a>從您的網站連結至市集上您的應用程式清單頁面
當您從網站上的 AppSource 或 Azure Marketplace 徽章連結到市集上的清單時，必須在 URL 結尾處包含以下查詢參數，以支援強大的分析與報告功能：
*   src<br />包含路由到 AppSource 的流量來源，例如，網站、LinkedIn、Facebook 等。
*   mktcmpid<br />您的行銷活動識別碼，可包含最多 16 個以字母、數字、底線和連字號任意組合的字元，例如，blogpost_12。下列範例顯示包含兩個查詢參數的 URL。 在您的 AppSource URL 加入這些參數可讓您在 [Cloud Partner 入口網站](http://cloudpartner.azure.com/#insights)的分析儀表板中檢閱活動效益：<https://appsource.microsoft.com/product/dynamics-365/mscrm.04931187-431c-415d-8777-f7f482ba8095?src=website&mktcmpid=blogpost_12>

## <a name="analytics-and-reporting"></a>分析和報告

在 [Cloud Partner 入口網站](http://cloudpartner.azure.com/#insights)的 [深入解析] 區段中，您會看到供應項目的高階表現概觀。 取得這些報告中資訊的最佳作法是和您內部的資料協調。 利用它來協助您設定行銷活動動作的優先順序。

[Cloud Partner 入口網站](http://cloudpartner.azure.com/#insights)的 [分析] 區段 (目前為預覽版，僅適用於 AppSource 供應項目) 提供豐富的 Power BI 儀表板。 您可以使用儀表板查看您供應項目詳細資料網頁上的流量。 此儀表板的新特色會持續推出。

此外，[Cloud Partner 入口網站](http://cloudpartner.azure.com/#insights)中有 Microsoft 活動相關文件。 您可以參考 Microsoft 活動說明文件來設定和追蹤活動。

高階效能概觀區段中包含以下報告：
*   訂單的摘要快照集
*   使用量
*   部署
*   [深入解析] 網頁上的客戶趨勢
*   詳細的訂單、使用量及客戶資料
*   以每月摘要或六個月的趨勢檢視方式顯示訂單和使用量
*   根據數項準則切割使用量和訂單

詳細的報告會顯示客戶資訊，例如公司名稱和郵遞區號層級的地理位置。 請考慮利用此資訊來比較您的客戶或支付您銷售人員的報酬。 Microsoft 提供下列客戶相關特定屬性：
*   Reseller
*   名字
*   姓氏
*   電子郵件
*   公司名稱
*   交易日期
*   訂用帳戶名稱
*   Azure 訂用帳戶識別碼 (僅預付型方案客戶)
*   雲端執行個體名稱
*   Order Count
*   客戶國家地區
*   客戶縣/市
*   客戶通訊文化特性
*   客戶郵遞區號

## <a name="enable-lead-sharing"></a>啟用潛在客戶共用 
與市集的潛在客戶加強關係是成功開發市集使用者業務的主要功臣。 一開始先確定已為您的清單啟用潛在客戶管理，並在貴公司選擇的 CRM 系統中正確設定，如此使用者與您的清單互動時，才會收到訊號與連絡資訊以佇列處理資格。 請針對您的潛在客戶採用下列做法：
*   利用來自您行銷和銷售資料庫的其他資料，擴充市集潛在客戶。 市集客戶可能由於先前的行銷活動或本身為現有客戶，已在您的其中一個潛在客戶關係加強系統中。 
*   針對市集上的不同動作，來對潛在客戶評分並使用不同的關係加強路徑。 例如，測試您的應用程式和開始購買的客戶就分屬不同階段。
*   經常處理潛在客戶資料。 不時對客戶進行業務開發，就是成功的主要驅動力。 
*   透過電子郵件或內部銷售/售前規劃來與潛在客戶加強關係，事先確認其有成為銷售案源的適當資格。
*   配合整體行銷活動策略投入心力。
如需如何存取共同銷售方案的詳細資訊，請瀏覽[透過 Microsoft 推廣您的業務](https://docs.microsoft.com/azure/marketplace/promote-your-business-with-microsoft)頁面。

## <a name="gtm-benefits-on-the-marketplace"></a>市集上的 GTM 權益

市集店面清單的新加入者都有資格獲得免費的 Marketplace GTM 權益。 加入清單之後，Microsoft 行銷專員就會與您或您的行銷連絡人連絡來開始進行活動。 您無須採取任何行動，只需在 Microsoft 與您連絡時配合即可。

Microsoft 提供的活動會依您解決方案在市集上的狀態而有所不同。 加入清單後權益會大幅提升。

| 店面 | 其他可獲得的權益 |
|:--- |:--- |   
| AppSource | <table> <tr><td>Microsoft 金級合作夥伴</td></tr> <tr><td>試用版應用程式</td></tr> </table> |  
| Azure Marketplace | <table> <tr><td>交易供應項目</td></tr> <tr><td>試用版供應項目</td></tr> </table> | 


為了讓這些活動的影響力達到最大，Microsoft 建議您備妥要實行的上市計劃。 您可以將登陸頁面運用在許多上市策略上。

您的上市支援包括用來推廣業務的範本、Web 內容、訓練及工具。
*   如需上市支援的詳細資訊，請瀏覽 [Microsoft Go-To-Market Services](https://partner.microsoft.com/reach-customers/gtm)。

## <a name="promote-your-business-with-microsoft"></a>透過 Microsoft 推廣您的業務
Microsoft 的目標是支援向您一樣的發行者，以及簡化在市集店面中銷售您的應用程式或供應項目。 透過在市集上陳列，您便可以存取其他的免費行銷與銷售方案和資源。

如果您尚未向「Microsoft 合作夥伴網路」(MPN) 註冊，則請先註冊，再繼續操作。
*   如需有關 MPN 的詳細資訊，請瀏覽「Microsoft 合作夥伴網路」頁面：partner.microsoft.com。

MPN 提供下列主題的相關指引。
*   新的商機
*   與小組或夥伴聯繫
*   可協助提升您技能的解決方案和訓練

若要推廣您的供應項目或應用程式，請使用下表來存取更多權益和資源：

| 優點 | 資源 |
|:--- |:--- |
| 使用您的核心權益 | 加入「Microsoft 合作夥伴網路」，您就會收到一組核心權益，可幫助您節省時間和金錢。 這些權益也可幫助您增強能力、為客戶提供更好的服務，以及建立關係來完全發揮您的業務潛力。<br /> 如需核心權益的詳細資訊，請參閱[核心權益與要求條件](http://partner.microsoft.com/membership/core-benefits)。 |
| 獲得雲端平台專長認證 | 獲得專長認證有助於讓您從 Microsoft 合作夥伴中脫穎而出。 獲得專長認證也可協助您在市場中展現技術專業能力和客戶成功案例。 專長認證是許多重要合作夥伴方案 (例如「共同銷售」) 的必要條件。<br /> 如需雲端平台專長認證的詳細資訊，請瀏覽[雲端平台專長認證](https://partner.microsoft.com/membership/cloud-platform-competency)。 |
| IP 共同銷售準備就緒 | 您可能符合「IP 共同銷售準備就緒」計劃的資格，其可讓您與 Microsoft 銷售人員及其他合作夥伴直接合作，爭取目標客戶商機和進行帳戶規劃。 Microsoft 銷售人員會在銷售人員解決方案目錄中看見您的解決方案。 與您合作並贏得交易的 Microsoft 銷售人員會獲得獎勵。<br /> 如需有關「共同銷售」整備度的詳細資訊 (包括資格需求)，請瀏覽[推廣您的業務](https://partner.microsoft.com/reach-customers/promote-your-business)。 |


# <a name="azure-partner-revenue-attribution"></a>Azure 合作夥伴營收歸因

身為 Azure 的軟體合作夥伴，您的解決方案可能需要 Azure 元件或直接部署在 Azure 基礎結構上。  現今當合作夥伴解決方案是由客戶所部署，而使用的 Azure 資源也是由客戶佈建時，合作夥伴難以查看這些部署的狀態，也難以清楚檢視配合 Microsoft 銷售團隊對 Azure 成長的影響以及 Microsoft 合作夥伴方案的功勞。   

Microsoft 正在建立的新方法，可協助合作夥伴更有效追蹤客戶在 Azure 上部署您的軟體所產生的 Azure 使用量。 這種新方法是以使用 Azure Resource Manager 來協調 Azure 服務的部署為基礎。

身為 Microsoft 合作夥伴，您可以將 Azure 使用量與您代表客戶佈建的任何 Azure 資源相關聯。  這可以透過 Azure Marketplace、快速入門存放庫、私人 Github 存放庫，甚至是 1 對 1 客戶業務開發來完成。  若要啟用此功能，有兩種可用方法：

 1. Azure Resource Manager 範本：Azure Resource Manager 範本或解決方案範本可部署 Azure 服務以執行合作夥伴的軟體。 合作夥伴可建立 Azure Resource Manager 範本，其中定義 Azure 解決方案的基礎結構和設定。 建立 Azure Resource Manager 範本，可讓您與您的客戶在整個生命週期中重複部署方案，並確信您的資源會以一致的狀態部署。 

 2. Azure Resource Manager API：合作夥伴可直接呼叫 Azure Resource Manager API，來部署 Azure Resource Manager 範本或產生 API 呼叫以直接佈建 Azure 服務。 

## <a name="method-1-azure-resource-manager-templates"></a>方法 1：Azure Resource Manager 範本 
現今許多合作夥伴的解決方案都使用 Azure Resource Manager 範本來部署在客戶的訂用帳戶上。  如果您在 Azure Marketplace 中、GitHub 上或快速入門中，已有可用的 Azure Resource Manager 範本，修改範本以啟用這個新的追蹤方法的程序應該相當簡單。  如果您未使用 Azure Resource Manager 範本，現在這裡有一些連結，可協助您更了解 Azure Resource Manager 範本與其建立方式： 

*   [建立及部署第一個 Azure Resource Manager 範本](https://docs.microsoft.com/en-us/azure/azure-resource-manager/resource-manager-create-first-template) \(英文\)
*   [建立 Azure Marketplace 解決方案範本的指南](https://docs.microsoft.com/en-us/azure/marketplace-publishing/marketplace-publishing-solution-template-creation)

## <a name="instructions-add-a-guid-to-your-existing-azure-resource-manager-template"></a>指示：將 GUID 加入至現有的 Azure Resource Manager 範本

加入 GUID 是主要範本檔案的一項修改：
 1. 假設建立 GUID 所產生的值為 eb7927c8-dd66-43e1-b0cf-c346a422063
 2. 開啟 Azure Resource Manager 範本
 3. 在主要範本檔案中加入新的資源。 資源只需要置於 mainTemplate.json 或 azuredeploy.json 中，而非任何巢狀或連結的範本中。
 4. 在 "pid-"之後輸入 GUID，如上所示。

   您應該會看到類似下列的範例：`pid-eb7927c8-dd66-43e1-b0cf-c346a422063`

 5. 檢查範本是否有任何錯誤
 6. 在適當的存放庫中重新發佈範本

## <a name="sample-template-code"></a>範例範本程式碼

```

{ // add this resource to the mainTemplate.json (do not add the entire file)
      "apiVersion": "2018-02-01",
      "name": "pid-XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX", // use your GUID here
      "type": "Microsoft.Resources/deployments",
      "properties": {
        "mode": "Incremental",
        "template": {
          "$schema": "https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",
          "contentVersion": "1.0.0.0",
          "resources": []
        }
      }
    } // remove all comments from the file when done

```

## <a name="method-2-azure-resource-manager-apis"></a>方法 2：Azure Resource Manager API

在某些情況下，合作夥伴會想要直接對 Azure Resource Manager REST API 進行呼叫，以部署 Azure 服務。 [Azure 支援多個 SDK](https://docs.microsoft.com/en-us/azure/#pivot=sdkstools) 啟用此作業。  您可以使用其中一個 SDK，或直接呼叫 REST API 來部署資源。

如果您使用 Azure Resource Manager 範本，應該使用上述指示來標記您的解決方案。  如果您不是使用 Azure Resource Manager 範本，並進行直接 API 呼叫，仍可標記您的部署以與 Azure 資源的使用量建立關聯。 

**如何使用 Azure Resource Manager API 來標記部署：** 對於此方法，當設計 API 呼叫時，要在要求的使用者代理程式標頭中包含 GUID。 每個供應項目或 SKU 都應加上 GUID。  此字串所需的格式為使用前置詞 pid-，然後包含合作夥伴產生的 GUID。   

>[!Note] 
>用以插入使用者代理程式的 GUID 格式：pid-eb7927c8-dd66-43e1-b0cf-c346a422063     // 在 "pid-" 之後輸入您的 GUID

此字串的格式至關重要。 如果未包含前置詞 "pid-"，便無法查詢資料。 不同的 SDK 會以不同的方式執行此方法。  若要實作此方法，您必須檢閱支援和適用於慣用 Azure SDK 的方法。 

**使用 Python SDK 的範例：** 對於 Python，您必須使用 "config" 屬性。 您可以只新增至 UserAgent (我們仍想保有某種程度的控制)。 如下所示：

```python

client = azure.mgmt.servicebus.ServiceBusManagementClient(**parameters)
        client.config.add_user_agent("pid-eb7927c8-dd66-43e1-b0cf-c346a422063")


```

>由於沒有全域的靜態設定，所以要為每個用戶端個別完成。您可以選擇執行用戶端中心，以確保每個用戶端都會執行。 
>[其他參考資訊](https://github.com/Azure/azure-cli/blob/7402fb2c20be2cdbcaa7bdb2eeb72b7461fbcc30/src/azure-cli-core/azure/cli/core/commands/client_factory.py#L70-L79)

## <a name="registering-a-guid"></a>註冊 GUID： 

如何使用 Azure PowerShell 或 Azure CLI 來標記部署：如果您透過 AzurePowerShell 來部署資源，可以使用下列方法來附加 GUID：

```

[Microsoft.Azure.Common.Authentication.AzureSession]::ClientFactory.AddUserAgent("pid-eb7927c8-dd66-43e1-b0cf-c346a422063")


```

若要使用 Azure CLI 來附加 GUID，請設定 AZURE_HTTP_USER_AGENT 環境變數。  您可以在指令碼的範圍內設定此變數，或全域地設定以用於殼層範圍：

```

export AZURE_HTTP_USER_AGENT='pid-eb7927c8-dd66-43e1-b0cf-c346a422063'


```

## <a name="registering-guidsoffers"></a>註冊 GUID/供應項目

GUID 必須註冊後，才能包含在追蹤中。  

範本 GUID 的所有註冊都會透過 Azure Marketplace 雲端合作夥伴入口網站 (CPP) 來完成。 

適用於現今的 [Azure Marketplace](http://aka.ms/listonazuremarketplace)，並可取得 Cloud Partner 入口網站的存取權。

*   合作夥伴必須先在 [CPP 中有一個設定檔](https://docs.microsoft.com/en-us/azure/marketplace/become-publisher)，並建議在 Azure Marketplace 或 AppSource 中列出供應項目 
*   合作夥伴可以註冊多個 GUID 
*   合作夥伴也可以為非 Marketplace 解決方案範本/供應項目註冊 GUID

在您將 GUID 加入至範本或使用者代理程式中，並在 CPP 中註冊該 GUID 之後，便會追蹤所有的部署。 

## <a name="verification-of-guid-deployment"></a>驗證 GUID 部署 

在您修改範本並執行測試部署之後，您可以使用下列 PowerShell 指令碼來擷取已部署並標記的資源。 

您可以用來確認 GUID 是否已成功加入至 Azure Resource Manager 範本。 其不適用於 Azure Resource Manager API 部署。

登入 Azure，然後在執行指令碼之前，選取包含您想要驗證部署的訂用帳戶。 指令碼必須在部署的訂用帳戶內容中執行。

部署的 GUID 與 resourceGroup 名稱都是必要參數。

您可以在[這裡](https://gist.github.com/bmoore-msft/ae6b8226311014d6e7177c5127c7eba1#file-verify-deploymentguid-ps1)找到原始的指令碼。

```

Param(
    [GUID][Parameter(Mandatory=$true)]$guid,
    [string][Parameter(Mandatory=$true)]$resourceGroupName'
)

#get the correlationId of the pid deployment

$correlationId = (Get-AzureRmResourceGroupDeployment -ResourceGroupName 
$resourceGroupName -Name "pid-$guid").correlationId

#find all deployments with that correlationId

$deployments = Get-AzureRmResourceGroupDeployment -ResourceGroupName $resourceGroupName | Where-Object{$_.correlationId -eq $correlationId}

#find all deploymentOperations in a deployment by name (since PowerShell does not surface outputResources on the deployment or correlationId on the deploymentOperation)

foreach ($deployment in $deployments){

#get deploymentOperations by deploymentName and then the resourceId for any create operation

($deployment | Get-AzureRmResourceGroupDeploymentOperation | Where-Object{$_.properties.provisioningOperation -eq "Create" -and $_.properties.targetResource.resourceType -ne "Microsoft.Resources/deployments"}).properties.targetResource.id

}


```

## <a name="guidance-on-creating-guids"></a>建立 GUID 的指導方針

GUID (唯一識別碼) 是有 32 個十六進位數字的唯一參考號碼。 若要建立 GUID，合作夥伴應使用 GUID 產生器來建立 GUID 進行追蹤。  您有多個 [GUID 線上產生器](https://www.bing.com/search?q=guid%20generator&qs=n&form=QBRE&sp=-1&ghc=2&pq=guid%20g&sc=8-6&sk=&cvid=0BAFAFCD70B34E4296BB97FBFA3E1B4E)可以使用。

建議合作夥伴為每個供應項目與散發通道都建立唯一的 GUID。  例如，合作夥伴若有兩種解決方案，並透過可在 Azure Marketplace 與 GitHub 上取得的範本來部署兩者。  該合作夥伴應建立 4 個 GUID：

*   Azure Marketplace 中的供應項目 A 
*   GitHub 上的供應項目 A
*   Azure Marketplace 中的供應項目 B 
*   GitHub 上的供應項目 B

依合作夥伴 (Microsoft 合作夥伴識別碼) 排序和 GUID 來完成報告。 

您也可以選擇以更細微的層級來追蹤 GUID (例如，供應項目的變體 SKU)。

## <a name="guidance-on-privacy-and-data-collection"></a>隱私權和資料收集指導方針

合作夥伴應提供訊息，通知其客戶包含 Azure Resource Manager GUID 追蹤的部署，允許 Microsoft 向合作夥伴回報與這些部署相關聯的 Azure 使用量。  以下是一些範例語言。 此外，合作夥伴應確保這符合他們自己的資料隱私權和收集原則，包括讓客戶從追蹤排除的選項： 

**對於 Azure Resource Manager 範本部署**

當部署此範本時，Microsoft 可識別我們的 [插入合作夥伴軟體名稱] 軟體安裝以及部署的 Azure 資源。  Microsoft 可讓用來支援軟體的 Azure 資源相互關聯。  Microsoft 會收集這項資訊，以透過其產品提供最佳體驗以及經營業務。 這項資料會遭到收集，並由 Microsoft 隱私權原則控管，網址為 https://www.microsoft.com/en-us/trustcenter。 

**對於 SDK 或 API 部署**

當部署我們的軟體時，Microsoft 可識別我們的 [插入合作夥伴軟體名稱] 軟體安裝以及部署的 Azure 資源。  Microsoft 可讓用來支援軟體的 Azure 資源相互關聯。  Microsoft 會收集這項資訊，以透過其產品提供最佳體驗以及經營業務。 這項資料會遭到收集，並由 Microsoft 隱私權原則控管，網址為 https://www.microsoft.com/en-us/trustcenter。

## <a name="support"></a>支援

如需協助，請遵循下列步驟：
 1. 請瀏覽支援網頁：[go.microsoft.com/fwlink/?linkid=844975](https://go.microsoft.com/fwlink/?linkid=844975)
 2. 對於與使用量關聯的問題 - 選取 [問題類型]：[Marketplace 上架] 與 [類別]：[其他]，然後按一下 [提出要求]。

對於存取 Azure Marketplace Cloud Partner 入口網站的問題 - 選取 [問題類型]：[Marketplace 上架] 與 [類別]：[存取問題]，然後按一下 [提出要求]。
 3. 在下一個頁面上，填寫必要的欄位，然後按一下 [繼續]。
 4. 在下一個頁面上，完成任意格式的文字欄位。  
 
>[!Important] 
>以 **“ISV Usage Tracking”** 填寫事件標題，隨後在任意格式的大型文字欄位中，詳細描述您的問題。  完成表單的其餘部分，然後按一下 [提交]。

## <a name="faqs"></a>常見問題集

**將 GUID 加入至範本的權益為何？**

Microsoft 會提供合作夥伴一個客戶部署範本和深入解析受影響使用量的檢視。  Microsoft 與合作夥伴都可使用這項資訊，促使合作夥伴與 Microsoft 銷售團隊之間更密切進行業務開發，並能更一致地檢視個別合作夥伴對 Azure 成長的影響。 

**何人能將 GUID 加入至範本？**

追蹤資源的主要目的是將合作夥伴的解決方案連結到客戶的 Azure 使用量。  使用量資料會繫結至合作夥伴的 Microsoft 合作夥伴網路身分識別 (MPN 識別碼)，而且合作夥伴可在 Cloud Partner 入口網站 (CPP) 中使用報告功能。  

**加入 GUID 之後能否予以變更？**
 
是，客戶或實作合作夥伴可自訂範本並能變更或移除該 GUID。 建議合作夥伴主動向其客戶與合作夥伴，描述資源角色與 GUID，以防止移除或編輯該追蹤 GUID。  請注意，變更 GUID 只會影響新的部署和資源，現有的部署和資源不受影響。

**何時才能使用報告功能？**

報告搶鮮版 (Beta) 很快就會推出。  報告功能會與雲端合作夥伴入口網站 (CPP) 整合。

**我可以從類似 GitHub 的非 Microsoft 存放庫追蹤部署的範本嗎？**

是，只要有 GUID，當範本部署時，都會追蹤使用量。  
合作夥伴必須要在 Cloud Partner 入口網站中有設定檔，才可註冊在 Azure Marketplace 外部發佈的相關範本。 

**從 Azure Marketplace 和從類似 GitHub 的其他存放庫部署範本，是否有差異？**

是，在 Azure Marketplace 發佈供應項目的合作夥伴可收到從 Azure Marketplace 部署的更詳細資料。  合作夥伴向 Azure Marketplace 入口網站和 Azure 管理入口網站中的客戶公開其供應項目，將獲益良多。 Azure Marketplace 中的供應項目也可為合作夥伴產生潛在客戶。

**假設我要建立自訂範本用於進行個別的客戶業務開發呢？**

您仍可將 GUID 加入至範本。  如果您使用已註冊的現有 GUID，它會包含在報告中。  如果您建立新的 GUID，則必須註冊新的 GUID 才能將之納入追蹤。

**客戶也會收到報告嗎？**

客戶目前可在 Azure 管理入口網站內，追蹤其個別資源或客戶所定義資源群組的使用情況。   

**這和數位記錄合作夥伴 (DPOR) 類似嗎？**

這種將部署與使用情況連結至合作夥伴解決方案的新方法，主要目的在提供合作夥伴解決方案與 Azure 使用量的連結機制。  DPOR 可將諮詢 (系統整合者) 或管理 (控服務提供者) 合作夥伴與客戶的 Azure 訂用帳戶建立關聯。   


## <a name="next-steps"></a>後續步驟
請瀏覽 [Go to Market Services](https://partner.microsoft.com/reach-customers/gtm)以深入了解 Marketplace 服務。 

---
