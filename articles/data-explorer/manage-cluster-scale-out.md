---
title: 横向扩展 Azure 数据资源管理器群集
description: 本文介绍如何根据不断变化的需求采用相关步骤对 Azure 数据资源管理器群集进行横向缩放。
author: orspod
ms.author: orspodek
ms.reviewer: mblythe
ms.service: data-explorer
ms.topic: conceptual
ms.date: 04/05/2019
ms.openlocfilehash: 24bbddd28943adc929fbaea456eeae8165db290c
ms.sourcegitcommit: 3102f886aa962842303c8753fe8fa5324a52834a
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 04/23/2019
ms.locfileid: "60758643"
---
# <a name="manage-cluster-scale-out-to-accommodate-changing-demand"></a>管理叢集相應放大以因應不斷變化的需求

適當調整叢集的大小對 Azure 資料總管的效能來說非常重要。 但是，对群集的需求不能绝对准确地进行预测。 静态群集大小可能导致利用不充分或利用过度，二者都不理想。

更好的方法是*調整叢集的大小*，根據變更的需求新增或移除容量。 有两个工作流可用于缩放、纵向扩展和横向扩展。本文說明相應放大工作流程。

本文介绍如何管理群集横向扩展（又称为自动缩放）。 借助自动缩放，可以根据预定义的规则和计划自动横向扩展实例计数。 在 Azure 门户中指定群集的自动缩放设置，如本文所述。

## <a name="steps-to-configure-autoscale"></a>配置自动缩放的步骤

在 Azure 门户中，转到数据资源管理器群集资源。 在“设置”标题下，选择“横向扩展”。在“配置”选项卡上选择“启用自动缩放”。

   ![啟用自動調整](media/manage-cluster-scaling/enable-autoscale.png)

下圖顯示接下來數個步驟的流程。 图后面提供了更多详细信息。

1. 在“自动缩放设置名称”框中提供一个名称，例如“横向扩展: 缓存使用率”。 

   ![調整規則](media/manage-cluster-scaling/scale-rule.png)

2. 至于“缩放模式”，请选择“基于指标缩放”。 此模式提供动态缩放。 也可选择“缩放为具体实例数”。

3. 选择“+ 添加规则”。

4. 在右側的 [調整規則] 區段，提供每個設定的值。

    **準則**

    | 設定 | 描述和值 |
    | --- | --- |
    | **時間彙總** | 選取彙總準則，例如 [平均]。 |
    | **計量名稱** | 選取調整大小作業依據的計量，例如 [快取使用率]。 |
    | **時間粒紋統計資料** | 選擇 [平均]、[最小值]、[最大值]，或 [加總]。 |
    | **運算子** | 選擇適當的選項，例如 [大於或等於]。 |
    | **閾值** | 選擇適當的值。 例如，对于缓存使用率，一开始可以选择 80%。 |
    | **持續時間 (分鐘)** | 選擇適當的時間長度，讓系統在計算計量時有所依據。 從預設的 10 分鐘開始。 |
    |  |  |

    **Action**

    | 設定 | 描述和值 |
    | --- | --- |
    | **作業** | 選擇相應縮小或相應放大的適當選項。 |
    | **執行個體計數** | 選擇滿足計量條件時，您欲新增或移除的節點或執行個體數。 |
    | **冷卻時間 (分鐘)** | 選擇調整大小作業間適當的時間間隔。 請從預設的五分鐘開始。 |
    |  |  |

5. 選取 [新增] 。

6. 在左側的 [執行個體限制] 中，提供每個設定的值。

    | 設定 | 描述和值 |
    | --- | --- |
    | **最低** | 執行個體數；無論使用率為何，您的叢集都不會調整到低於此數值。 |
    | **最大值** | 執行個體數；無論使用率為何，您的叢集都不會調整到高於此數值。 |
    | **預設值** | 默认实例数。 在出现资源指标读取问题时使用此设置。 |
    |  |  |

7. 選取 [ **儲存**]。

您現在已為您的 Azure 資料總管叢集設定相應放大作業。 為相應縮小作業新增另一條規則。 有了此配置，群集就可以根据指定的指标动态地进行缩放。

还可以[管理群集纵向扩展](manage-cluster-scale-up.md)，以便适当地调整群集的大小。

如果在解决群集缩放问题时需要帮助，请在 Azure 门户中[提交支持请求](https://portal.azure.com/#blade/Microsoft_Azure_Support/HelpAndSupportBlade/overview)。

## <a name="next-steps"></a>後續步驟

[通过指标监视 Azure 数据资源管理器的性能、运行状况和使用情况](using-metrics.md)
