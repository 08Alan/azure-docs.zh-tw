<properties 
	pageTitle="Common operations in the Machine Learning Recommendations API | Azure" 
	description="Azure ML Recommendation Sample Application" 
	services="machine-learning" 
	documentationCenter="" 
	authors="jaymathe" 
	manager="paulettm" 
	editor="cgronlun"/>

<tags 
	ms.service="machine-learning" 
	ms.workload="data-services" 
	ms.tgt_pltfrm="na" 
	ms.devlang="na" 
	ms.topic="article" 
	ms.date="10/14/2014" 
	ms.author="jaymathe"/>  


# Machine Learning Recommendations API 中的常見作業

##目的

本文件透過範例應用程式說明一些 Azure ML Recommendations API 的使用方式。

此應用程式並未包含完整的功能或使用所有的 API，只示範了一些您想要先使用 Azure ML 建議服務時所要執行的一般作業。 

##建議簡介

當您根據下列資料建立建議模型時，會透過 Azure ML 建議服務啟用建議：

* 您想要建議的項目儲存機制 (也稱為目錄)
* 代表每一個使用者/工作階段之項目使用的資料 (這可以經由資料擷取取得，不屬於範例應用程式的一部份)

一旦建立建議模型，您即可使用它來根據使用者選取的一組項目 (可以是單一項目) 對使用者預測項目。

為了允許上述案例，您將對 Azure ML 建議服務執行下列作業：

* 建立模型 - 這是一個邏輯容器，將保存資料 (目錄和使用) 和預測模型，每個模型容器均透過在其建立期間配置的唯一識別碼進行識別，而稱為模型 Id 的這個識別碼由大部分的 API 使用 
* 上傳目錄 - 建立模型容器之後，您即可讓該容器與目錄產生關聯

注意：上述步驟 (「建立模型」和「上載目錄」) 通常會在模型生命週期中執行一次。

* 上傳使用 - 將使用資料加入至模型容器。
* 建立建議模型 - 您有足夠的資料後，就會觸發建議模型建置。這項作業將使用機器學習演算法來建立建議模型。每個組建都有相關聯的唯一識別碼，您必須保留此識別碼，因為某些 API 功能有此需要。
* 監控建置程序 - 建議模型建置是一項非同步作業，視資料量 (目錄和使用) 和建置參數而定，所需的時間從數分鐘到數小時。因此，您必須監視組建。只有在相關聯的組建順利結束時，才會建置建議模型。
* (選擇性) 選擇使用中建議模型建置，只有在模型容器中已建置一個以上的建議模型時，才需要執行此步驟。若未指出使用中組建 (使用中建議模型)，系統會將任何取得建議的要求自動重新導向至預設的使用中組建。 

注意：使用中組建 (建議模型) 已可實際執行，而且是針對生產環境工作負載所建置，相對於留在類似測試環境 (有時稱為「預備」) 中的非使用中建議模型

* 取得建議 - 有了建議模型後，您就可以針對您所挑選的單一項目或項目清單觸發建議。 

您通常會針對某一段時間叫用 [取得建議]，同時可將使用資料重新導向回 Azure ML 建議系統，進而將此使用資料加入至指定的模型容器。一旦有足夠的使用資料，即可觸發新的建議模型組建以使用更實際的資料。 

##必要條件

* Visual Studio 2013
* 網際網路存取 

##Azure ML 範例應用程式方案

這個方案包含原始程式碼、範例使用和目錄檔案及指示詞，以下載編譯所需的 nuget 套件。

##使用的 API

應用程式僅透過一小部分可用的 API，使用一小部分的 Azure ML 建議功能。應用程式中會示範下列 API：

* 建立模型 - 建立邏輯容器以保存資料和建議模型。模型是以名稱識別，使用者無法建立同名的模型兩次。
* 上傳目錄檔案 - 上傳目錄資料
* 上傳使用檔案 - 上傳使用資料
* 觸發建置 - 建立建議模型
* 監視組建執行 - 監視建議模型組建的狀態
* 選擇建議的建置模型 - 指出特定模型容器預設要使用的建議模型。只有在您有一個以上的建議模型，而且想要以非使用中組建作為使用中組建時，才需要執行此步驟。
* 取得建議 - 根據指定的單一或一組項目擷取建議項目。 

如需 API 的完整說明，請參閱 Microsoft Azure Marketplace 文件。 

注意：模型在一段時間內 (非同時) 可以有數個組建，每個組建都是以相同或更新的目錄和其他使用資料建立。

## 常見陷阱

* 您必須提供您的使用者名稱和您的 Microsoft Azure Marketplace 主要帳戶金鑰作為命令列來執行範例
* 連續執行範例應用程式將會失敗 - 應用程式流程可處理預先定義之模型名稱的建立、上載、建置監視器及取得建議，因此如果您未在引動之間變更模型名稱，它就無法連續執行
* 建議可能不會傳回資料 - 範例應用程式會使用極小的目錄和使用檔案，因此建立的建議模型不具意義，這是因為目錄中的某些項目沒有任何建議的項目。

## 免責聲明
範例應用程式不應針對生產環境執行，目錄和使用檔案中提供的資料非常小並且不會提供有意義的建議模型，但只提供示範。 

## 法律
這份文件係依 「現狀」提供。本文件中說明的資訊與畫面 (包括 URL 及其他網際網路網站參考資料) 如有變更， 恕不另行通知。 
此處描述的一些範例僅供說明之用，純屬虛構。並未影射或關聯任何真實人事物。 
本文件未提供給您任何 Microsoft 產品中任何智慧財產的任何法定權利。您可以複製並使用這份文件，供內部參考之用。 
(c) 2014 Microsoft.著作權所有，並保留一切權利。 


<!--HONumber=46--> 
 