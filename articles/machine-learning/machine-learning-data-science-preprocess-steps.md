<properties 
	pageTitle="前置處理和清除資料 | Azure" 
	description="前置處理和清除資料" 
	metaKeywords="data cleansing" 
	services="machine-learning" 
	documentationCenter="" 
	authors="xibingaomsft,msolhab" 
	manager="paulettm" 
	editor="cgronlun" />

<tags 
	ms.service="machine-learning" 
	ms.workload="data-services" 
	ms.tgt_pltfrm="na" 
	ms.devlang="na" 
	ms.topic="article" 
	ms.date="02/16/2015" 
	ms.author="xibingaomsft,msolhab" /> 


前置處理和清除資料
========================================
未經處理的資料通常會有雜訊、不可靠，而且可能遺漏值。使用這類資料進行模型化可能會產生誤導的結果。前置處理和清除資料是很重要的步驟，必須先執行此步驟，才能使用資料集進行機器學習服務。本文將介紹各種不同的資料前置處理步驟，您可以先採取這些步驟，然後再將資料擷取到 Azure Machine Learning。 

----------------

1. **前置處理和清除資料的理由**

	真實世界的資料是從各種不同的來源和程序蒐集而來，其中可能包含危及資料集品質的違規或損毀資料。一般會發生的資料品質問題如下：
	- 未完成：資料缺少屬性或包含遺漏值。
	- 雜訊：資料包含錯誤的記錄或極端值。
	- 不一致：資料包含衝突的記錄或差異。 
		
	資料品質是品質預測模型的必要條件。若要避免「垃圾入，垃圾出」並改善資料品質因而提升模型品質，請務必管理資料健康狀態畫面以便及早發現資料問題，並決定對應的資料前置處理和清除步驟。

2. **哪些是要採用的典型資料健康狀態畫面？** 
	
	我們可以藉由檢查下列項目，來檢查一般的資料品質：
    - 記錄數目。
    - 屬性 (或功能) 數目。
	- 屬性資料類型 (名義、序數或連續)。
	- 遺漏值的數目。
	- 資料的格式正確。如果資料是 tsv 或 csv 格式，問題就是資料行分隔符號和行分隔符號是否一律會正確分隔資料行與行。如果資料是 HTML 或 XML 格式，請根據各自的標準來檢查資料格式是否正確。可能也需要進行剖析，以從半結構化或非結構化的資料擷取結構化資訊。
	- 不一致的資料記錄。例如：如果資料包含學生 GPA，可檢查 GPA 是否位於指定範圍內 (假設是 0~4)。 

	當您找到資料問題時，處理步驟是必需的，這通常包含清除遺漏值、資料正規化、離散化、可移除和 (或) 取代可能影響資料對齊之內嵌字元的文字處理、共通欄位的混合資料類型，以及其他項目。 
	
	Azure Machine Learning 會取用正確格式的表格式資料。如果資料已經是表格式格式，則可在 ML Studio 中使用 Azure Machine Learning 直接執行資料前置處理。如果資料不是表格式格式，假設是 XML，就可能需要進行剖析，才能將資料轉換成表格式格式。  

3. **資料前置處理中有哪些主要工作？**

	- 資料清除：填入或遺漏值，偵測並移除雜訊資料和極端值。
	- 資料轉換：正規化資料，以減少維度和雜訊。
	- 資料縮減：取樣資料記錄或屬性，以進行較簡單的資料處理。
	- 資料離散化：將連續屬性轉換為類別屬性，以方便使用特定的機器學習服務方法。
	- 文字清除：移除可能造成資料對齊錯誤的內嵌字元，例如，定位鍵分隔的資料檔中的內嵌定位鍵、可能中斷記錄的內嵌新行等。	
	
	下列各節將詳細說明一些資料前置處理步驟。

4. **如何處理遺漏值？**
	
	若要處理遺漏值，最好先識別遺漏值的原因，以便對問題進行更好的控制。典型的遺漏值處理方法如下：

	- 刪除：移除具有遺漏值的記錄
	- 虛擬替代：使用虛擬值來取代遺漏值，例如，針對類別使用「未知」__，或針對數值使用 0。
	- 平均值替代：如果遺漏值是數值，可使用平均值來取代遺漏值。 
	- 頻率替代：如果遺漏值是類別，可使用最常見的項目來取代遺漏值。 
	- 迴歸替代：利用迴歸方法，使用迴歸值來取代遺漏值。  

5. **如何將資料標準化？**
	
	資料標準化會將數值範圍調整為指定的範圍。常用的資料正規化方法包括：
	- 最小值與最大值正規化：將資料線性轉換為某個範圍，假設介於 0 和 1 之間。此外，將最小值調整為 0 並將最大值調整為 1。
	- Z 分數正規化：根據平均值和標準差來調整資料範圍：將資料和平均值之間的差距除以標準差。
	- 小數點調整：藉由移動屬性值的小數點來調整資料範圍。  

6. **如何將資料離散化？**  

	您可以藉由將連續值轉換成名義屬性或間隔來將資料離散化。以下提供一些執行此動作的方法：
	- 等寬分類收納將屬性的所有可能值範圍分成 N 個同樣大小的群組，並使用分類收納號碼來指派值，使其落於某一個分類收納組中。
	- 等高分類收納：將屬性的所有可能值範圍分成 N 個包含相同執行個體數目的群組，然後使用分類收納號碼來指派值，使其落於某一個分類收納組中。  

7. **如何縮減資料？**  

	有各種方法可用來縮減資料大小，以便更容易處理資料。根據資料大小和網域而定，您可以套用下列方法： 
	- 記錄取樣：取樣資料記錄，並且只從資料中選擇代表性子集。 
	- 屬性取樣：只從資料中選取重要的屬性。  
	- 彙總：將資料分組，並儲存每個群組的數目。例如，可以將某一家連鎖餐廳在過去 20 年的每日營收數字彙總為每月營收，以縮減資料大小。  

8. **如何清除文字資料？**  

	表格式資料中的文字欄位可能包含影響資料行對齊和 (或) 記錄界限的字元。例如，定位鍵分隔檔案的內嵌定位鍵可能導致資料行對齊錯誤，而內嵌的新行字元會中斷記錄行。寫入/讀取文字時不適當的文字編碼處理會造成資訊遺失，而意外引進無法讀取的字元 (例如 null) 可能也會影響文字剖析。您可以需要仔細地進行剖析和編輯，以清除文字欄位來取得正確的對齊方式，及 (或) 從非結構化或半結構化的文字資料中擷取結構化資料。

資料探索可提供資料的早期檢視。在此步驟中，並未涵蓋某些資料問題，而  您可以套用對應的方法來處理這些問題。請務必提出問題，例如，問題的來源是什麼，以及問題可能是如何引發的。這也有助於您決定必須採取以解決這些問題的資料處理步驟。深入探討某一個想要從資料衍生的類型，也可用來排列資料處理工作的優先順序。

**參考**
	
>_資料採礦：概念和技術_，第三版，Morgan Kaufmann，2011，Jiawei Han、Micheline Kamber 和 Jian Pei

<!--HONumber=49--> 