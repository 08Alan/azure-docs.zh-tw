# Azure 和物聯網

歡迎使用 Microsoft Azure 與物聯網 (IoT)。本文將介紹 IoT 解決方案架構，其描述您可能會使用 Azure 服務來部署之 IoT 解決方案的一般特性。IoT 解決方案在可能以百萬計的裝置間需要安全的雙向通訊，而舉例來說，使用自動化及預測性分析的解決方案後端可呈現來自您裝置到雲端事件資料流的深入解析。

當您使用 Azure 服務來實作此 IoT 解決方案架構時，Azure IoT 中樞是重要的建置組塊，而 IoT 套件可針對特定 IoT 案例提供此架構的完整端對端實作。例如，「遠端監視」解決方案可讓您監視裝置的狀態 (如自動販賣機)，而「預測性維護」可協助您預測裝置的維護需求 (例如遠端幫浦站的幫浦)，以及避免意外停機。

## IoT 解決方案架構

下圖顯示典型的 IoT 解決方案架構。請注意，它不會包含任何特定 Azure 服務的名稱，但會說明一般 IoT 解決方案架構中的重要元素。在此架構中，IoT 裝置會收集其傳送到雲端閘道的資料。雲端閘道讓其它後端服務可透過儀表板或其他簡報裝置，從資料傳遞到其他企業營運應用程式或操作員的位置處理資料。

![IoT 解決方案架構][img-solution-architecture]

> [AZURE.NOTE] 如需 IoT 架構的深入討論，請參閱 [Microsoft Azure IoT 參考架構][lnk-refarch]。

### 裝置連線能力

在此 IoT 解決方案架構中，裝置會將遙測 (例如幫浦站的感應器讀數) 傳送給雲端端點，以進行儲存和處理。在預測性維護案例中，後端可能會使用感應器資料流，來判斷特定幫浦何時需要維護。裝置也可以透過讀取來自雲端端點的訊息，以接收和回應雲端到裝置命令。比方說，在預測性維護案例中，解決方案後端可能會傳送命令到幫浦站的其他幫浦，以在維護應開始之前先重新路由流量，這樣一來維護工程師到場時即可開始工作。

IoT 專案所面臨的其中一個最大挑戰，就是如何可靠且安全地將裝置連線至解決方案後端，以確保裝置傳送遙測與擷取命令。相較於其他用戶端 (例如瀏覽器和行動應用程式)，IoT 裝置有不同的特性。IoT 裝置：

- 通常是無人操作的嵌入式系統。
- 可以部署於實體存取非常昂貴的遠端位置。
- 可能只能透過解決方案後端來存取。沒有其他方式可與裝置互動。
- 能力和/或處理資源可能都有限。
- 網路連線能力可能不穩定、緩慢或昂貴。
- 可能需要使用專屬、自訂或業界特定的應用程式通訊協定。
- 可以使用一組大型常見的硬體和軟體平台來建立。

除了上述需求之外，任何 IoT 解決方案也必須提供調整、安全性和可靠性。使用傳統技術 (例如 Web 容器和傳訊代理程式) 實作連線需求的結果是困難且耗時的。Azure IoT 中樞和 IoT 裝置 SDK 讓您更輕鬆地實作符合其需求的解決方案。

裝置可以直接與雲端閘道端點通訊，或者，如果裝置無法使用任何雲端閘道支援的通訊協定，則可以透過執行通訊協定轉譯的中繼閘道 (例如 [IoT 中樞通訊協定閘道][lnk-protocol-gateway]) 來連線。例如，從通用工業通訊協定 (CIP) 至 AMQPS。

### 資料處理和分析

在雲端中，IoT 解決方案後端是解決方案中大部份資料的處理位置，特別是篩選及彙總遙測，以及將其路由到其他服務。IoT 解決方案後端：

- 接收大規模來自裝置的遙測資料，並判斷如何處理與儲存該資料。 
- 可能讓您由雲端將命令傳送到特定裝置。
- 提供可讓您佈建裝置並且控制哪些裝置能夠連線到您基礎結構的裝置註冊功能。
- 可讓您追蹤您的裝置狀態並監視其活動。

在預測性維護案例中，解決方案後端會儲存歷程記錄的遙測資料以用來識別模式，並在找到代表特定幫浦應進行的維護模式時，分析遙測。

IoT 解決方案可以包含自動意見反應迴圈。例如，後端中的分析模組可以從遙測資料中識別出特定裝置的溫度超出一般作業層級，接著將命令傳送至該裝置，指示它採取更正動作。

### 簡報及商務連線

簡報及商務連線層可讓終端使用者與 IoT 解決方案及裝置互動。其讓使用者能夠檢視和分析從他們的裝置所收集的資料。這些檢視可以採用儀表板或 BI 報表的格式，以顯示歷程記錄資料及/或接近即時的資料。例如，操作員可確認特定幫浦站的狀態，並查看系統產生的任何警示。此層也可整合 IoT 解決方案與現有企業營運應用程式，以連結企業商務程序或工作流程。比方說，預測性維護解決方案可整合排程系統，以在解決方案識別出需要維護的幫浦時，預約工程師到幫浦站檢查。

![IoT 解決方案儀表板][img-dashboard]

[img-solution-architecture]: ./media/iot-azure-and-iot/iot-reference-architecture.png
[img-dashboard]: ./media/iot-azure-and-iot/iot-suite.png

[lnk-machinelearning]: http://azure.microsoft.com/services/machine-learning/
[Azure IoT Suite]: http://azure.microsoft.com/solutions/iot
[lnk-protocol-gateway]: ../articles/iot-hub/iot-hub-protocol-gateway.md
[lnk-refarch]: http://download.microsoft.com/download/A/4/D/A4DAD253-BC21-41D3-B9D9-87D2AE6F0719/Microsoft_Azure_IoT_Reference_Architecture.pdf

<!---HONumber=AcomDC_0413_2016-->